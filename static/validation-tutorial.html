<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Validation Guide</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body>

     <!-- Navbar for navigation -->
    <div id="navbar"></div>
    <script src="navbar.js"></script>


  <section class="section">
    <div class="container">
      <h1 class="title">Validation Guide</h1>
      <p class="subtitle">Learn how to enforce rules in forms.</p>

      <!-- ========================= -->
      <!-- Static Example: Email Validation -->
      <!-- ========================= -->
      <h2 class="title is-4">Email Validation (Demo)</h2>
      <form id="emailForm">
        <div class="field">
          <label class="label">Enter your email:</label>
          <div class="control">
            <!-- HTML5 validation with type="email" -->
            <input class="input" type="email" id="emailInput" placeholder="example@domain.com" required>
          </div>
        </div>
        <div class="control">
          <button class="button is-link" type="submit">Submit</button>
        </div>
      </form>
      <p id="emailOutput" class="mt-4"></p>

      <!-- ========================= -->
      <!-- Interactive Playground: Form Validation Lab -->
      <!-- ========================= -->
      <h2 class="title is-4 mt-6">Form Validation Playground</h2>
      <p class="content">
        Try building your own signâ€‘up form. Validate email and password length. Give feedback inline.
      </p>

      <!-- Instructions box -->
      <article class="message is-warning">
        <div class="message-header">
          <p>Challenge</p>
        </div>
        <div class="message-body">
          - Require a valid email format (<code>type="email"</code> + JS check).<br>
          - Password must be at least 8 characters.<br>
          - Show success or error messages below the form.<br>
          - Use the <code>function name() {}</code> pattern for your JavaScript.
        </div>
      </article>

      <!-- Editor area -->
      <div class="field">
        <label class="label">Your Code (HTML + JS)</label>
        <div class="control">
          <textarea id="playgroundCode2" class="textarea" rows="14"><!-- Starter validation lab -->
<form id="signupForm">
  <div class="field">
    <label class="label">Email</label>
    <div class="control">
      <input class="input" id="email" type="email" placeholder="you@example.com" required>
    </div>
  </div>

  <div class="field">
    <label class="label">Password</label>
    <div class="control">
      <input class="input" id="password" type="password" placeholder="At least 8 characters" required>
    </div>
  </div>

  <button class="button is-link" type="submit">Sign up</button>
</form>

<p id="message" class="mt-3"></p>

<script>
// Function: validateSignup(event)
// Purpose: Prevent default submit, check inputs, show feedback
function validateSignup(event) {
  event.preventDefault();

  // 1) Read values
  var email = document.getElementById("email").value;
  var password = document.getElementById("password").value;
  var message = document.getElementById("message");

  // 2) Basic checks
  var emailLooksOk = email.includes("@");
  var passwordOk = password.length >= 8;

  // 3) Show feedback
  if (emailLooksOk && passwordOk) {
    message.textContent = "Success! Your inputs look good.";
    message.className = "has-text-success";
  } else {
    message.textContent = "Please enter a valid email and a password of at least 8 characters.";
    message.className = "has-text-danger";
  }
}

// Function: initValidationLab()
// Purpose: Attach the validator to the form submit
function initValidationLab() {
  var form = document.getElementById("signupForm");
  form.addEventListener("submit", validateSignup);
}
</script>
          </textarea>
        </div>
      </div>

      <!-- Controls -->
      <div class="buttons">
        <button id="playgroundRun2" class="button is-primary">Run</button>
        <button id="playgroundReset2" class="button is-light">Reset to starter code</button>
      </div>

      <!-- Output iframe -->
      <div class="box">
        <h3 class="title is-5">Live Output</h3>
        <iframe id="playgroundFrame2"
                style="width:100%; min-height: 320px; border: 1px solid #ddd;"
                sandbox="allow-scripts allow-forms"></iframe>
      </div>
    </div>
  </section>

  <script>
  // =========================
  // Static Email Validation Demo
  // =========================
  function handleEmailForm(event) {
    event.preventDefault();
    var email = document.getElementById("emailInput").value;
    var output = document.getElementById("emailOutput");

    // Simple check: does email contain '@'?
    if (email.includes("@")) {
      output.textContent = "Valid email: " + email;
      output.className = "has-text-success";
    } else {
      output.textContent = "Invalid email. Please try again.";
      output.className = "has-text-danger";
    }
  }
  document.getElementById("emailForm").addEventListener("submit", handleEmailForm);

  // =========================
  // Playground Logic
  // =========================
  function getStarterTemplate2() {
    return document.getElementById("playgroundCode2").defaultValue;
  }

  function renderPlayground2() {
    var textarea = document.getElementById("playgroundCode2");
    var iframe = document.getElementById("playgroundFrame2");

    var doc = `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Playground Output</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body class="section">
  <div class="container">
    ${textarea.value}
    <script>
      try { initValidationLab(); } catch (e) {}
    <\/script>
  </div>
</body>
</html>
    `.trim();

    iframe.srcdoc = doc;
  }

  function resetPlayground2() {
    var textarea = document.getElementById("playgroundCode2");
    textarea.value = getStarterTemplate2();
    renderPlayground2();
  }

  document.addEventListener("DOMContentLoaded", function() {
    document.getElementById("playgroundRun2").addEventListener("click", renderPlayground2);
    document.getElementById("playgroundReset2").addEventListener("click", resetPlayground2);
    resetPlayground2();
  });
  </script>
</body>
</html>
